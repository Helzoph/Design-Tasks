---
name: dt-tasks
description: Design-Tasks 开发模式的任务工单创建命令。执行理清需求 → 查找文档 → 创建任务工单的流程，适用于只需要创建任务工单的场景。
---

# Design-Tasks 开发模式：任务工单创建

我将协助您创建项目代码修改方案工单。

## 设计文档的核心定位

**设计文档是系统的"最终状态蓝图"，不是调试手册或修改记录。**

- **只描述"应该是什么样子"**：文档内容必须是系统最终的、完全的设计状态
- **绝对不包含**：
  - 任何修改历史或变更对比
  - 调试过程、排查方法、错误分析
  - "为什么这样改"的原因解释
  - 开发过程中的思考或决策记录
- **确保完整性**：拿着这套设计文档，应该能够完全理解并复刻整个系统，包括所有数据结构和业务逻辑

**注意：** `/dt-tasks` 命令不会修改设计文档，但它依赖现有的设计文档来创建任务工单。

## 工作流程

### 第 1 步：查找相关设计文档
我将调用 **file-searcher（Skill）** 扫描现有设计文档：

1. 扫描 docs/design 目录结构
2. 根据需求定位相关的设计文档
3. 了解当前系统的技术栈、架构和已有设计

这一步帮助我们基于现有设计文档创建准确的任务工单，避免重复询问已经在文档中存在的信息。

### 第 2 步：理清需求（可选）
基于第 1 步的结果，如果需要澄清具体实现细节，我将调用 **requirements-coordinator（Sub Agent）** 来理解您的需求。requirements-coordinator 会使用 **requirements-planner（Skill）** 来：

1. 分析您的开发需求或意图
2. 结合 file-searcher 返回的现有文档信息，避免重复询问已知的技术栈和架构
3. 如需要澄清，使用 AskUserQuestion 工具一次性提出所有必要问题
4. 对于已明确的需求（如修复现有 Bug），可以直接进入第 3 步

**注意：** 对于 `/dt-tasks` 命令，如果您的需求是实现或修复已有设计文档中的功能，此步骤可以简化或跳过。

### 第 3 步：创建任务工单
我将调用 **tasks-creator（Sub Agent）** 来创建修改方案。tasks-creator 会使用 **task-ticket-writer（Skill）** 来：

1. 获取下一个任务 ID
2. 基于设计文档创建详细的修改方案
3. 在 docs/tasks/ 目录保存工单
4. 建立设计与实现的关联

## 适用场景

`/dt-tasks` 命令适用于以下场景：
- 只需要创建任务工单
- 已有的设计文档需要转化为实现方案
- 不需要更新设计文档本身
- 将现有设计转化为可执行的代码变更指南

## 核心约束

- **绝对禁止修改源代码**：我的工作范围严格限制在 `docs` 文件夹内
- **不更新设计文档**：此命令不会修改 docs/design 目录下的文档
- **任务工单规范**：工单文件命名格式为 `<id>-<type>-<task_description>.md`

## 任务工单规范

### 文件命名
格式：`<id>-<type>-<task_description>.md`
- **id**：递增序号（001, 002, 003...）
- **type**：任务类型
  - `feat`：新功能
  - `fix`：修复问题
  - `refactor`：重构
  - `docs`：文档更新
  - `style`：样式调整
  - `test`：测试相关
- **task_description**：简短英文描述（下划线连接）

示例：`001-feat-add-comment-system.md`

### 内容结构
```markdown
# <id>-<type>-<task_description>
## 修改目的与背景
<详细说明修改原因和目标>
## 涉及的设计文档
<列出相关设计文档链接>
## 修改方案
### 前端修改
<前端变更内容>
### 后端修改
<后端变更内容>
```

## 项目文档结构

```
docs/
├── design/                 # 蓝图：系统应该是什么样子（只读）
└── tasks/                  # 工单：如何将代码变成蓝图的样子
    ├── 001-feat-add-comment-system.md
    ├── 002-fix-login-bug.md
    └── ...
```

## 输出示例

完成工作后，我会提供以下格式的总结：

```
任务工单创建完成：
- 已创建：docs/tasks/001-feat-add-comment-system.md
- 任务描述：为博客添加评论功能
```

## 开始使用

请告诉我您的开发需求或意图，我将专注于创建任务工单。
